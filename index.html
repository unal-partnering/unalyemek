<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ünal Yemek - Antalya Catering</title>
    <meta name="description" content="Antalya'da düğün, nişan, cenaze ve kurumsal yemek hizmetleri. 1998'den beri güvenilir lezzet.">
    <link rel="icon" href="logo.jpg" type="image/jpeg">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        
        html { scroll-behavior: smooth; }
        body.modal-open { overflow: hidden; }

        .reveal { opacity: 0; transform: translateY(50px); transition: all 1s ease-out; }
        .reveal.active { opacity: 1; transform: translate(0, 0); }
        
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #b91c1c;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-stone-50 text-gray-800 selection:bg-red-600 selection:text-white">

    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-3 bg-transparent text-white">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer" onclick="document.getElementById('hero').scrollIntoView()">
                <div class="relative flex items-center justify-center shrink-0">
                    <img src="logo.jpg" alt="Logo" class="w-12 h-12 object-contain bg-white rounded-full p-1 shadow-md">
                </div>
                <div class="flex flex-col">
                    <h1 id="nav-title" class="text-xl font-bold leading-tight text-white transition-colors">ÜNAL YEMEK</h1>
                    <span id="nav-subtitle" class="text-[10px] font-medium tracking-wider text-gray-200 transition-colors">1998'DEN BERİ</span>
                </div>
            </div>
            <div class="hidden md:flex items-center gap-6">
                <a href="#about" class="nav-link font-medium hover:text-red-700 transition-colors text-white drop-shadow-md">Hakkımızda</a>
                <a href="#services" class="nav-link font-medium hover:text-red-700 transition-colors text-white drop-shadow-md">Hizmetler</a>
                <a href="#ai-planner" class="nav-link font-medium hover:text-red-700 transition-colors text-white drop-shadow-md">Menü Tasarla</a>
                <a href="#contact" class="nav-link font-medium hover:text-red-700 transition-colors text-white drop-shadow-md">İletişim</a>
                <a href="tel:+902423414041" class="bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 text-sm shadow-lg transition-transform hover:-translate-y-0.5"><i data-lucide="phone" class="w-4 h-4"></i> 0242 341 40 41</a>
            </div>
            <button id="menu-toggle" class="md:hidden p-2 rounded text-white bg-black/20 backdrop-blur-sm border border-white/20"><i data-lucide="menu" class="w-6 h-6"></i></button>
        </div>
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-white shadow-xl border-t border-gray-100 flex flex-col p-4 animate-fade-in text-gray-800">
            <a href="#about" class="py-3 border-b font-bold">Hakkımızda</a>
            <a href="#services" class="py-3 border-b font-bold">Hizmetler</a>
            <a href="#ai-planner" class="py-3 border-b font-bold text-red-700">Menü Tasarla</a>
            <a href="#contact" class="py-3 font-bold">İletişim</a>
        </div>
    </nav>

    <section id="hero" class="relative h-screen min-h-[600px] flex items-center">
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1555244162-803834f70033?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"></div>
        </div>
        <div class="container mx-auto px-4 relative z-10 text-white pt-20">
            <div class="max-w-3xl reveal">
                <div class="inline-flex items-center gap-2 bg-red-700/90 px-4 py-1 rounded-full text-sm font-bold mb-6 backdrop-blur-sm">
                    <i data-lucide="star" class="w-4 h-4 fill-white text-white"></i> 1998'den Beri Antalya'nın Lezzeti
                </div>
                <h2 class="text-4xl md:text-6xl lg:text-7xl font-bold leading-tight mb-6 font-serif">Ev Yapımı Lezzet, <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-200">Profesyonel Hizmet</span></h2>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="#ai-planner" class="bg-white text-red-700 text-lg px-8 py-4 rounded-lg font-bold transition-all shadow-lg hover:shadow-red-900/50 flex items-center justify-center gap-2 animate-pulse">Menünü Tasarla!</a>
                </div>
            </div>
        </div>
    </section>

    <div class="bg-white py-10 shadow-lg relative z-20 -mt-2 mx-4 md:mx-auto max-w-6xl rounded-xl reveal">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 px-6 text-center divide-x divide-gray-100">
            <div class="flex flex-col items-center"><span class="text-3xl font-bold text-red-700 block mb-1">26+</span><span class="text-gray-600 text-sm font-medium">Yıllık Tecrübe</span></div>
            <div class="flex flex-col items-center"><span class="text-3xl font-bold text-gray-800 block mb-1 flex items-center justify-center"><i data-lucide="shield-check" class="w-7 h-7 mr-1"></i></span><span class="text-gray-600 text-sm font-medium">Hijyenik Üretim</span></div>
            <div class="flex flex-col items-center"><span class="text-3xl font-bold text-gray-800 block mb-1">100%</span><span class="text-gray-600 text-sm font-medium">Müşteri Memnuniyeti</span></div>
            <div class="flex flex-col items-center"><span class="text-3xl font-bold text-gray-800 block mb-1">7/24</span><span class="text-gray-600 text-sm font-medium">İletişim İmkanı</span></div>
        </div>
    </div>

    <section id="services" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto mb-16 reveal">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 font-serif">Hizmetlerimiz</h2>
                <p class="text-gray-600 text-lg">İhtiyacınıza göre şekillenen, <span class="text-red-700 font-bold">esnek</span> hizmet modelleri.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="group bg-stone-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-stone-100 reveal">
                    <div class="h-56 overflow-hidden relative">
                        <img src="image_755d81.jpg" class="w-full h-full object-cover">
                        <div class="absolute bottom-4 left-4 text-white font-bold text-xl pointer-events-none drop-shadow-md">Kurumsal & Dağıtım</div>
                    </div>
                    <div class="p-6"><p class="text-gray-600">Fabrikalar ve ofisler için günlük tabldot yemek servisi.</p></div>
                </div>
                <div class="group bg-stone-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-stone-100 reveal">
                    <div class="h-56 overflow-hidden relative">
                        <img src="mevlut-unalyemek.jpg" class="w-full h-full object-cover">
                        <div class="absolute bottom-4 left-4 text-white font-bold text-xl pointer-events-none drop-shadow-md">Mevlit & Davet</div>
                    </div>
                    <div class="p-6"><p class="text-gray-600">Düğün, nişan ve cenaze yemekleri için toplu üretim.</p></div>
                </div>
                <div class="group bg-stone-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-stone-100 reveal">
                    <div class="h-56 overflow-hidden relative">
                        <img src="okul-unalyemek.jpg" class="w-full h-full object-cover">
                        <div class="absolute bottom-4 left-4 text-white font-bold text-xl pointer-events-none drop-shadow-md">Okul & Kurumlar</div>
                    </div>
                    <div class="p-6"><p class="text-gray-600">Okul ve hastaneler için besleyici menüler.</p></div>
                </div>
            </div>
        </div>
    </section>

    <section id="ai-planner" class="py-20 bg-gradient-to-br from-red-50 to-white border-y border-red-100">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row items-stretch gap-12">
                <div class="w-full lg:w-1/2 reveal">
                    <div class="inline-flex items-center gap-2 bg-red-100 text-red-800 px-4 py-1 rounded-full text-sm font-bold mb-4"><i data-lucide="sparkles" class="w-4 h-4"></i> Yapay Zeka Destekli</div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 font-serif">Size Özel Tek ve Mükemmel Menü</h2>
                    <p class="text-gray-600 mb-8">Bütçenizi ve isteğinizi yazın, etkinliğinize en uygun "Altın Menüyü" oluşturalım.</p>
                    
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-red-100 space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Etkinlik Türü</label>
                            <select id="aiEventType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 outline-none">
                                <option value="Düğün Yemeği">Düğün Yemeği</option>
                                <option value="Mevlit / Cenaze">Mevlit / Cenaze</option>
                                <option value="Kurumsal / Ofis">Kurumsal / Ofis</option>
                                <option value="İftar Yemeği">İftar Yemeği</option>
                                <option value="Piknik / Açık Hava">Piknik / Açık Hava</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Kişi Sayısı</label>
                            <input type="number" id="aiGuestCount" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 outline-none" placeholder="Örn: 250">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Notlar / Bütçe Durumu</label>
                            <textarea id="aiNotes" rows="2" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 outline-none" placeholder="Örn: Ekonomik olsun, tavuklu olsun..."></textarea>
                        </div>
                        <div id="aiError" class="hidden text-red-600 text-sm bg-red-50 p-2 rounded"></div>
                        <button id="aiButton" onclick="generateMenuWithPollinations()" class="w-full bg-gradient-to-r from-red-700 to-red-600 text-white font-bold py-4 rounded-lg hover:from-red-800 transition-all shadow-md flex items-center justify-center gap-2"><i data-lucide="sparkles" class="w-5 h-5"></i> Mükemmel Menüyü Oluştur!</button>
                    </div>
                </div>

                <div class="w-full lg:w-1/2 flex reveal">
                    <div class="relative w-full min-h-[400px] flex items-center justify-center">
                        <div class="absolute inset-0 bg-stone-900 rounded-2xl transform lg:rotate-2 opacity-10"></div>
                        <div class="absolute inset-0 bg-white rounded-2xl shadow-xl border border-gray-100 transform lg:-rotate-1 flex flex-col p-6 md:p-8 w-full h-full">
                            <div class="flex items-center justify-center mb-6 shrink-0">
                                <img src="logo.jpg" class="w-16 h-16 object-contain bg-white rounded-full p-1 shadow-md">
                            </div>
                            <div class="flex-grow overflow-y-auto w-full">
                                <div id="aiDefaultState" class="flex flex-col items-center justify-center text-center h-full text-gray-400">
                                    <i data-lucide="utensils" class="w-12 h-12 mb-4 text-red-100"></i>
                                    <h4 class="text-xl font-bold text-gray-300">Menü Bekleniyor</h4>
                                </div>
                                <div id="aiLoadingState" class="hidden flex flex-col items-center justify-center h-full">
                                    <div class="loader mb-4"></div>
                                    <span class="text-gray-600 font-bold">Ustam En İyisini Hazırlıyor...</span>
                                </div>
                                <div id="aiResultState" class="hidden animate-fade-in text-left space-y-4 w-full">
                                    <div id="aiResultText" class="w-full"></div>
                                </div>
                            </div>
                            <div class="pt-4 border-t border-dashed border-gray-300 mt-auto shrink-0">
                                <button onclick="document.getElementById('contact').scrollIntoView()" class="w-full bg-stone-800 text-white py-3 rounded-lg text-sm font-bold hover:bg-black transition-colors">Bu Menü İçin Fiyat Alın</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-20 bg-stone-100">
        <div class="container mx-auto px-4">
            <div class="grid lg:grid-cols-5 gap-8">
                <div class="lg:col-span-3 bg-white p-8 rounded-2xl shadow-sm reveal">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800">Bize Ulaşın</h3>
                    <form class="space-y-4" onsubmit="event.preventDefault(); alert('Mesajınız alındı!');">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" class="w-full p-3 border rounded-lg" placeholder="Adınız Soyadınız" required>
                            <input type="tel" class="w-full p-3 border rounded-lg" placeholder="Telefon" required>
                        </div>
                        <textarea rows="4" class="w-full p-3 border rounded-lg" placeholder="Mesajınız..."></textarea>
                        <button class="w-full bg-gray-900 text-white font-bold py-4 rounded-lg hover:bg-gray-800 transition-colors">Gönder</button>
                    </form>
                </div>
                <div class="lg:col-span-2 space-y-6 reveal">
                    <div class="bg-white p-8 rounded-2xl shadow-sm">
                        <h3 class="text-xl font-bold mb-6 text-gray-800">İletişim Bilgileri</h3>
                        <div class="space-y-4">
                            <div class="flex items-start gap-4"><div class="w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center text-red-700"><i data-lucide="map-pin"></i></div><div><h5 class="font-bold">Adres</h5><p class="text-sm">Altınova Sinan Mah. Şelale Sk No:54, Kepez</p></div></div>
                            <div class="flex items-start gap-4"><div class="w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center text-red-700"><i data-lucide="phone"></i></div><div><h5 class="font-bold">Telefon</h5><a href="tel:+902423414041">+90 242 341 40 41</a></div></div>
                        </div>
                    </div>
                    <div class="bg-gray-200 h-64 rounded-2xl overflow-hidden relative">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3190.237270921471!2d30.7628!3d36.9312!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14c39aaed8630001%3A0x633519398414441e!2sAlt%C4%B1nova%20Sinan%2C%20%C5%9Eelale%20Sk.%20No%3A54%2C%2007260%20Kepez%2FAntalya!5e0!3m2!1str!2str!4v1698765432100!5m2!1str!2str" width="100%" height="100%" style="border:0" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        lucide.createIcons();

        // Navbar & Scroll
        const navbar = document.getElementById('navbar');
        const navTitle = document.getElementById('nav-title');
        const navSubtitle = document.getElementById('nav-subtitle');
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('bg-white', 'shadow-md', 'py-2');
                navbar.classList.remove('bg-transparent', 'py-3');
                navTitle.classList.remove('text-white');
                navTitle.classList.add('text-gray-900');
                navSubtitle.classList.remove('text-gray-200');
                navSubtitle.classList.add('text-red-700');
                menuToggle.classList.remove('text-white', 'border-white/20');
                menuToggle.classList.add('text-gray-800', 'border-gray-200');
            } else {
                navbar.classList.remove('bg-white', 'shadow-md', 'py-2');
                navbar.classList.add('bg-transparent', 'py-3');
                navTitle.classList.add('text-white');
                navTitle.classList.remove('text-gray-900');
                navSubtitle.classList.add('text-gray-200');
                navSubtitle.classList.remove('text-red-700');
                menuToggle.classList.add('text-white', 'border-white/20');
                menuToggle.classList.remove('text-gray-800', 'border-gray-200');
            }
        });

        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const isWhite = navbar.classList.contains('bg-white');
            if (!mobileMenu.classList.contains('hidden') && !isWhite) {
                navbar.classList.add('bg-white');
                navbar.classList.remove('bg-transparent');
                navTitle.classList.remove('text-white');
                navTitle.classList.add('text-gray-900');
            }
        });

        // Scroll Reveal
        const revealElements = document.querySelectorAll('.reveal');
        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            revealElements.forEach((element) => {
                if (element.getBoundingClientRect().top < windowHeight - 100) {
                    element.classList.add('active');
                }
            });
        };
        window.addEventListener('scroll', revealOnScroll);
        revealOnScroll();

        // --- POLLINATIONS AI (KUTU YÖNTEMİ / DELIMITER ÇÖZÜMÜ) ---
        async function generateMenuWithPollinations() {
            const eventType = document.getElementById('aiEventType').value;
            const guestCount = document.getElementById('aiGuestCount').value;
            const notes = document.getElementById('aiNotes').value;
            const errorDiv = document.getElementById('aiError');
            const aiButton = document.getElementById('aiButton');
            const defaultState = document.getElementById('aiDefaultState');
            const loadingState = document.getElementById('aiLoadingState');
            const resultState = document.getElementById('aiResultState');
            const resultText = document.getElementById('aiResultText');

            if (!guestCount) {
                errorDiv.innerText = "Lütfen kişi sayısını giriniz.";
                errorDiv.classList.remove('hidden');
                return;
            }

            errorDiv.classList.add('hidden');
            defaultState.classList.add('hidden');
            resultState.classList.add('hidden');
            loadingState.classList.remove('hidden');
            aiButton.disabled = true;

            try {
                // KATI KURALLAR
                let budgetRule = "";
                if (notes.toLowerCase().includes("ekonomik") || notes.toLowerCase().includes("ucuz") || notes.toLowerCase().includes("uygun")) {
                    budgetRule = "Müşteri EKONOMİK istedi. Bu yüzden Kırmızı Et (Tas Kebabı, Kavurma, Köfte) YASAK. Sadece Tavuk (Sote, Döner, Fırın) veya Bakliyat kullan.";
                }

                const prompt = `Sen Antalya Ünal Yemek catering firmasının 30 yıllık tecrübeli baş aşçısısın.
                
                GÖREVİN: TEK BİR (1) adet mükemmel, uyumlu ve bütçeye uygun menü oluşturmak.
                
                Müşteri: ${eventType}, ${guestCount} kişi. Not: ${notes}.
                
                ÖNEMLİ KISITLAMALAR:
                1. ${budgetRule}
                2. 'İftar' ise Başlangıca MUTLAKA 'İftariyelik Tabağı (Hurma, Zeytin)' ekle.
                3. Yemekler uyumlu olsun (Tavuk yanına Pilav gibi).
                4. "Nişanınız", "Düğününüz" gibi spesifik kelimeler kullanma. "Hoş geldiniz" de.
                5. SADECE aşağıda verdiğim HTML şablonunu doldur.
                6. ÇOK ÖNEMLİ: Cevabını <<<BASLA>>> ve <<<BITIR>>> etiketlerinin arasına yaz. Dışına tek kelime bile yazma.

                İSTENEN ÇIKTI FORMATI:
                <<<BASLA>>>
                <div class="p-4 bg-red-50 rounded-lg text-red-900 italic mb-4 border-l-4 border-red-700">
                   "Ünal Yemek'e hoş geldiniz! Misafirleriniz için en lezzetli ve uygun menüyü özenle hazırladım..."
                </div>
                
                <div class="bg-stone-50 p-6 rounded-xl border border-stone-200 shadow-md">
                    <h4 class="font-bold text-red-700 text-2xl mb-4 border-b border-red-100 pb-2 text-center">Ustanın Altın Menüsü</h4>
                    <ul class="space-y-4 text-gray-800 text-lg">
                        <li class="flex justify-between items-center border-b border-gray-100 pb-2">
                            <span class="font-bold text-gray-900 w-1/3">Başlangıç / Çorba:</span> 
                            <span class="w-2/3 text-right">...Tek Çorba İsmi...</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-gray-100 pb-2">
                            <span class="font-bold text-gray-900 w-1/3">Ana Yemek:</span> 
                            <span class="w-2/3 text-right">...Tek Ana Yemek İsmi...</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-gray-100 pb-2">
                            <span class="font-bold text-gray-900 w-1/3">Yardımcı:</span> 
                            <span class="w-2/3 text-right">...Tek Yardımcı Yemek...</span>
                        </li>
                        <li class="flex justify-between items-center pt-2">
                            <span class="font-bold text-gray-900 w-1/3">Tatlı/İçecek:</span> 
                            <span class="w-2/3 text-right">...Tek Tatlı ve İçecek...</span>
                        </li>
                    </ul>
                </div>
                <p class="text-xs text-gray-500 mt-4 text-center italic">Not: Bu menü taslaktır, detaylar için bizi arayınız.</p>
                <<<BITIR>>>`;

                const encodedPrompt = encodeURIComponent(prompt);
                
                // Zeki model (OpenAI) kullanıyoruz ama cevabı filtreleyeceğiz
                const response = await fetch(`https://text.pollinations.ai/${encodedPrompt}?model=openai`);

                if (!response.ok) throw new Error('Sunucu hatası: ' + response.status);

                let generatedText = await response.text();

                // --- KESİN ÇÖZÜM (KUTU YÖNTEMİ) ---
                // Yapay zeka ne kadar gevezelik ederse etsin (reasoning_content vs.),
                // biz sadece <<<BASLA>>> ile <<<BITIR>>> arasını alıyoruz.
                
                const parts = generatedText.split('<<<BASLA>>>');
                if (parts.length > 1) {
                    // BASLA etiketinden sonrasını al
                    let cleanContent = parts[1];
                    // BITIR etiketinden öncesini al
                    cleanContent = cleanContent.split('<<<BITIR>>>')[0];
                    
                    resultText.innerHTML = cleanContent;
                    loadingState.classList.add('hidden');
                    resultState.classList.remove('hidden');
                } else {
                    // Eğer yapay zeka etiketleri unutursa, yedek plan: <div taginden başla
                    const fallbackStart = generatedText.indexOf('<div class="p-4');
                    if (fallbackStart !== -1) {
                        let fallbackContent = generatedText.substring(fallbackStart);
                        // Sondaki fazlalıkları at
                        const fallbackEnd = fallbackContent.lastIndexOf('</p>') + 4;
                        if (fallbackEnd > 0) fallbackContent = fallbackContent.substring(0, fallbackEnd);
                        
                        resultText.innerHTML = fallbackContent;
                        loadingState.classList.add('hidden');
                        resultState.classList.remove('hidden');
                    } else {
                        // Hiçbir şey bulamazsa (çok nadir)
                        throw new Error('Menü oluşturulamadı, lütfen tekrar deneyin.');
                    }
                }

            } catch (error) {
                console.error(error);
                errorDiv.innerText = "Bağlantı hatası: " + error.message; 
                errorDiv.classList.remove('hidden');
                loadingState.classList.add('hidden');
            } finally {
                aiButton.disabled = false;
            }
        }
    </script>
</body>
</html>
